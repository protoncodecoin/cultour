{% extends "base.html" %}
{% load static %}

{% block title %} {{object.name }} {% endblock%}

{% block content %}

    <div class="hero-wrap js-fullheight" style="background-image: url('{% static 'images/bg_5.jpg' %}');">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-center justify-content-center" data-scrollax-parent="true">
          <div class="col-md-9 ftco-animate text-center" data-scrollax=" properties: { translateY: '70%' }">
            <p class="breadcrumbs" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }"><span class="mr-2"><a href="{% url 'tours:home' %}">Home</a></span> <span>Hotel</span></p>
            <h1 class="mb-3 bread" data-scrollax="properties: { translateY: '30%', opacity: 1.6 }">Hotels</h1>
          </div>
        </div>
      </div>
    </div>


    <section class="ftco-section ftco-degree-bg">
      <div class="container">
        <div class="row">
        	<div class="col-lg-3 sidebar">
        		<div class="sidebar-wrap bg-light ftco-animate">
        			<h3 class="heading mb-4">Menu and Reservation</h3>
        			<form action="#">
        				<div class="fields">
		              <div class="form-group">
		                <input type="text" class="form-control" placeholder="Destination, City">
		              </div>
		              <div class="form-group">
		                <div class="select-wrap one-third">
	                    <div class="icon"><span class="ion-ios-arrow-down"></span></div>
	                    <select name="" id="" class="form-control" placeholder="Keyword search">
	                     <option value="">Select Location</option>
							{% for state in states %}
							<option value="{{state.id}}">{{state.name}}</option>
	                      {% endfor %}
	                    </select>
	                  </div>
		              </div>
		              <div class="form-group">
		                <input type="submit" value="Search" class="btn btn-primary py-3 px-5">
		              </div>
		            </div>
	            </form>
        		</div>

          </div>
          <div class="col-lg-9">
			<h3>Table Reservation</h3>
          	<div class="row reservation__tables" >
				{% for table in tables %}
				<div class="col-md-5 ftco-animate">
					<div class="destination">
						<a href="hotel-single.html" class="img img-2 d-flex justify-content-center align-items-center" style="background-image: url({{table.image.url}});">
							<div class="icon d-flex justify-content-center align-items-center">
						<span class="icon-search2"></span>
					</div>
						</a>
						<div class="text p-3">
							<div class="d-flex">
								<div class="one">
									<h3><a href="#">Table No: {{table.table_number}}, Seats: {{table.seats}}</a></h3>
									{% comment %} <p class="rate">
										<i class="icon-star"></i>
										<i class="icon-star"></i>
										<i class="icon-star"></i>
										<i class="icon-star"></i>
										<i class="icon-star-o"></i>
										<span>{% if table.is_available %} Available {% else %} Not Available {% endif  %}</span>
									</p> {% endcomment %}

								</div>
								<div class="two">
									{% if table.is_available %}
									<span class="price per-price">
										<i class="bi bi-patch-check-fill" style="color: green;"></i>
									</span> 
									{% else %}
										<span class="price per-price">
										<i class="bi bi-patch-check-fill" style="color: grey;"></i>
									</span> 
									{% endif %}
								 </div>
							</div>
							{% comment %} <p>Far far away, behind the word mountains, far from the countries</p> {% endcomment %}
							<hr>
							<p class="bottom-area d-flex">
								{% comment %} <span><i class="icon-map-o"></i> Miami, Fl</span>  {% endcomment %}
								{% comment %} <span class="ml-auto"><a href="#">Book Now</a></span> {% endcomment %}
								<!-- Button trigger modal -->
								{% if table.is_available %}
									<button type="button" class="btn btn-primary ml-auto tableID" data-toggle="modal" data-table-id="{{ table.pk }}"data-target="#exampleModalCenter">
								Book Now
								</button>
								{% else %}
									<button type="button" class="btn btn-secondary ml-auto" data-toggle="modal" data-target="#exampleModalCenter disabled">
								Book Now
								</button>
								{% endif %}
								<!--#TODO: fix show response modal-->
								<button
									id="hiddenBookButton"
									type="button"
									class="btn btn-secondary ml-auto"
									data-bs-toggle="modal"
									data-bs-target="#exampleModalCenter"
									style="visibility: hidden; position: absolute;">
									Book Now
									</button>


							</p>
						</div>
					</div>
				</div>
				{% endfor %}
          	</div>

			  <h3 style="padding-top: 50px;">Available Menu</h3>
			  <div class="row">
				  
				  {% for food in foods %}
				<div class="col-md-5 ftco-animate">
					<div class="destination">
						<a href="hotel-single.html" class="img img-2 d-flex justify-content-center align-items-center" style="background-image: url({{food.image.url}});">
							<div class="icon d-flex justify-content-center align-items-center">
						<span class="icon-search2"></span>
					</div>
						</a>
						<div class="text p-3">
							<div class="d-flex">
								<div class="one">
									<h3><a href="hotel-single.html">{{food.name}}</a></h3>
									{% comment %} <p class="rate">
										<i class="icon-star"></i>
										<i class="icon-star"></i>
										<i class="icon-star"></i>
										<i class="icon-star"></i>
										<i class="icon-star-o"></i>
										<span>8 Rating</span>
									</p> {% endcomment %}
								</div>
								<div class="two">
									<span style="font-size: 15px;" class="price per-price">â‚µ {{food.price }}</span></div>
							</div>
							<p>{{food.notes|truncatechars:40 }}</p>
							<hr>
							{% comment %} <p class="bottom-area d-flex">
								<span><i class="icon-map-o"></i> Miami, Fl</span> 
								<span class="ml-auto"><a href="#">Book Now</a></span>
							</p> {% endcomment %}
						</div>
					</div>
				</div>
				{% endfor %}
          	</div>
			
          	<div class="row mt-5">
		          <div class="col text-center">
		            <div class="block-27">
		              <ul>
		                <li><a href="#">&lt;</a></li>
		                <li class="active"><span>1</span></li>
		                <li><a href="#">2</a></li>
		                <li><a href="#">3</a></li>
		                <li><a href="#">4</a></li>
		                <li><a href="#">5</a></li>
		                <li><a href="#">&gt;</a></li>
		              </ul>
		            </div>
		          </div>
		        </div>
          </div> <!-- .col-md-8 -->
        </div>
      </div>

	  <!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Booking for {{table.name}}</h5>
        <button type="button" class="close btn-close first-close-btn" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <label for="date">Date:</label>
          <input type="date" name="reservation_date" class="form-control date__field" required>

          <label for="time">Time:</label>
          <input type="time" name="reservation_time" class="form-control time__field" required>

          <label for="guests">Guests:</label>
          <input type="number" name="guests" min="1" max="{{ table.seats }}" class="form-control guests__field" required>

          <label for="notes">Notes:</label>
          <textarea name="notes" class="form-control note__field"></textarea>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary save__btn" >Save</button>
      </div>
    </div>
  </div>
</div>

{% comment %} Second modal {% endcomment %}
{% comment %} <div class="modal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="btn-close second-close-btn" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div> {% endcomment %}

</section> <!-- .section -->

{% endblock %}

{% block include_js %}

	{% block domready %}
		<script src="{% static 'js/custom/reservation.js' %}" ></script>
	{% endblock %}
	
{% endblock %}

